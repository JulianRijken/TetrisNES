# This file was auto-generated by CMakinator (https://git.allpurposem.at/mat/CMakinator)
# You may create a larger work that contains any amount of
#   CMakinator's project output and distribute that work
#   under a license of your choice.

set(SRC_FILES
  Core.cpp
  Counter.cpp
  Game.cpp
  main.cpp
  pch.cpp
  AudioManager.cpp
  Piece.cpp
  structs.cpp
  utils.cpp
  Core.h
  Counter.h
  Game.h
  Jul.h
  pch.h
  Piece.h
  AudioManager.h
  Sprite.h
  structs.h
  utils.h
)
include(FetchContent)

# NOTE: you're linking against GLU, you should also be linking OpenGL

# find_package(OpenGL REQUIRED)

message(STATUS "Downloading SDL2 via FetchContent")
set(SDL_STATIC OFF)
FetchContent_Declare(
    SDL2
    GIT_REPOSITORY https://github.com/libsdl-org/SDL.git
    GIT_TAG release-2.30.1 # NOTE: latest as of writing, feel free to change
    GIT_SHALLOW TRUE
)
FetchContent_MakeAvailable(SDL2)

message(STATUS "Downloading SDL2_image via FetchContent")
set(SDL2IMAGE_JXL OFF)
set(SDL2IMAGE_VENDORED ON)
FetchContent_Declare(
    SDL2_image
    GIT_REPOSITORY https://github.com/libsdl-org/SDL_image.git
    GIT_TAG release-2.8.2 # NOTE: latest as of writing, feel free to change
)
FetchContent_MakeAvailable(SDL2_image)

message(STATUS "Downloading SDL_mixer via FetchContent")
FetchContent_Declare(
    SDL2_mixer
    GIT_REPOSITORY https://github.com/libsdl-org/SDL_mixer.git
    GIT_TAG release-2.8.0 # NOTE: latest as of writing, feel free to change
)
FetchContent_MakeAvailable(SDL2_mixer)

message(STATUS "Downloading SDL_tff via FetchContent")
FetchContent_Declare(
    SDL2_ttf
    GIT_REPOSITORY https://github.com/libsdl-org/SDL_ttf.git
    GIT_TAG release-2.22.0 # NOTE: latest as of writing, feel free to change
)
FetchContent_MakeAvailable(SDL2_ttf)

# NOTE: you're linking against sdl2main, you should also be linking sdl2

add_executable(Tetris ${SRC_FILES})

target_link_libraries(Tetris PUBLIC  OpenGL::GLU OpenGL::GL SDL2::SDL2 SDL2_image::SDL2_image SDL2_mixer::SDL2_mixer SDL2_ttf::SDL2_ttf SDL2::SDL2main)
